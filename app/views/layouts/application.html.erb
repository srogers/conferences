<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <%= yield :meta %>
    <%= csrf_meta_tags %>
    <title><%= yield :title %>Objectivist Conferences</title>

    <%= yield :pre_application_js %>
    <%= stylesheet_link_tag    'application', media: 'all' %>   <%# omitted: , 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application' %>                 <%# omitted: , 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag "https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js" %>  <%# D3 has to be initialized here, and not in the footer with jQuery and other JS %>
    <%= yield :head %>
    <%= render partial: 'shared/google_analytics' if Rails.env.production? %>
  </head>

  <body class="<%= content_for?(:body_class) ? yield(:body_class) : 'standard' %>" >
    <%= render partial: 'shared/fb_sdk_init' %>
    <%= render partial: 'shared/navigation' %>

    <div class="container">
      <% flash.each do |type, message| %>
        <div class="alert alert-<%= type %> alert-dismissable">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <%= content_tag :i, "", class: alert_icon_for(type) %>
          <%= message %>
        </div>
      <% end %>

      <%= yield %>
    </div>
    <footer class="footer">
      <div class="container">
        <div class="float-right"><%= link_to "About Us", about_path %></div>
        <p>
          ObjectivistConferences.info - a community supported archive
        </p>
      </div>
      <%= yield :footer %>
    </footer>
  </body>
</html>
