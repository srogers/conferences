<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <%= yield :meta %>
    <%= csrf_meta_tags %>
    <title><%= yield :title %> -- Conferences</title>

    <%= yield :pre_application_js %>
    <%= stylesheet_link_tag    'application', media: 'all' %>   <%# omitted: , 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application' %>                 <%# omitted: , 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag "https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js" %>  <%# D3 has to be initialized here, and not in the footer with jQuery and other JS %>
    <%= yield :head %>
    <%= render partial: 'shared/google_analytics' if Rails.env.production? %>
  </head>

  <body>
    <%= render partial: 'shared/fb_sdk_init' %>
    <%= render partial: 'shared/navigation' %>
    <%= yield :post_nav_body %>  <%# for the concept map - places it outside the container class  %>

    <div class="container">
      <% flash.each do |type, message| %>
        <div class="alert alert-<%= type %> alert-dismissable">
          <button type="button" class="close" data-dismiss="alert">&times;</button>
          <%= content_tag :i, "", class: alert_icon_for(type) %>
          <%= message %>
        </div>
      <% end %>

      <%= yield %>
    </div>
    <footer class="footer" style="<%= controller_name == 'pages' && action_name == 'index' ? 'display: none;' : '' %>">
      <div class="container">
        <p>ObjectivistConferences.info - a community supported arhive</p>
      </div>
      <%= yield :footer %>
    </footer>
  </body>
</html>
