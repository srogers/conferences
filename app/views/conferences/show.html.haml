- title @conference.name
.row
  .col-md-12
    %h4
      = @conference.short_name + ','
      = @conference.date_span
    - if current_user
      .float-right
        - if current_user.attended? @conference
          %p
            = attendance_status_message(@conference)
            = link_to icon('trash-alt', class: 'fa-fw'), conference_user_path(@conference_user), :method => :delete, :style => "color: #F00", :data => { :confirm => 'Remove your association with this conference?' }, :post => true
        - else
          = simple_form_for @conference_user do |f|
            = f.input :conference_id, as: :hidden, input_html: { value: @conference.id }
            = f.input :user_id, as: :hidden, input_html: { value:current_user.id }
            = f.submit attendance_invitation_message(@conference)
    %p
      %b Venue:
      - if @conference.venue_url.present?
        = link_to @conference.venue, @conference.venue_url, target: '_blank'
      - else
        = @conference.venue
      - if @conference.location.present?
        &mdash;
        = @conference.location
    %p
      %b Program:
      - if @conference.url.present?
        = link_to icon('far', 'file', class: 'fa-fw'), @conference.url, target: '_blank'
      - else
        %i none
    %p
      %b Data entry completed:
      = @conference.completed ? icon('fas', 'check', :class => 'fa-lg fa-fw text-success') : tag.i('not yet')
    %p
      %b Members Attending:
      = @conference.users.length
      - if @conference.users.length > 0 && current_user
        %span.ml-3
          = link_to icon('fas', 'users', class: 'fa-fw'), conference_users_path(conference_id: @conference.id)
.row
  .col-md-12
    %h4 Presentations
    - if @presentations.empty?
      %p None Yet
    - else
      %table.table
        = render :partial => "presentations/table_head"
        = render :partial => "presentations/presentation", :collection =>  @presentations

.row
  .col-md-12
    .form-actions
      = link_to "Done", conferences_path, :class => "btn btn-secondary"
      - if can? :create, Presentation
        = link_to "Add a Presentation", new_presentation_path(conference_id: @conference.id), :class => "btn btn-primary"
      - if can? :edit, @conference
        = link_to "Edit", edit_conference_path(@conference), :class => "btn btn-primary"
      .float-right
        - if can?(:destroy, @conference) && @presentations.empty?
          = link_to icon('far', 'trash-alt', '', class: 'fa-fw'), conference_path(@conference), :method => :delete, :class => "btn btn-danger", :data => { :confirm => 'Are you sure?' }, :post => true
